<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>main – Game-style Homepage</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{--bg:#0f0f12;--panel:#1a1a20;--panel2:#141419;--text:#E8E6E3;--muted:#b7b3ad;--gold:#d4af37;--gold2:#b8922b;--card:rgba(212,175,55,.35)}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:radial-gradient(1200px 800px at 65% -10%, rgba(212,175,55,.1), transparent 70%),
        radial-gradient(900px 700px at 10% 20%, rgba(125,106,61,.12), transparent 60%), var(--bg);color:var(--text);
      font-family:'Noto Sans KR',system-ui,sans-serif;overflow:hidden
    }

    .app{display:grid;grid-template-columns:320px 1fr 380px;grid-template-rows:64px 1fr 88px;grid-template-areas:"top top top" "left center right" "bottom bottom bottom";gap:16px;height:100%;padding:16px;position:relative}
    .stars{position:absolute;inset:0;background-image:radial-gradient(rgba(255,255,255,.35) 1px, transparent 1px);background-size:40px 40px;filter:blur(.2px);opacity:.3;pointer-events:none}

    .topbar{grid-area:top;display:flex;align-items:center;justify-content:flex-end;gap:10px;background:linear-gradient(180deg, rgba(20,20,26,.7), rgba(20,20,26,.15));border:1px solid rgba(255,255,255,.05);border-radius:14px;padding:10px 14px;backdrop-filter:blur(6px)}
    .chip{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);cursor:default}
    .link{cursor:pointer;text-decoration:none;color:inherit}
    .link:hover{filter:brightness(1.1)}
    .sep{width:1px;height:24px;background:rgba(255,255,255,.08)}

    .sidebar{grid-area:left;background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px;overflow:auto}
    .profile{display:flex;gap:12px;align-items:center;padding:10px;border-radius:12px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06)}
    .avatar{width:46px;height:46px;border-radius:50%;background:linear-gradient(145deg,#3a3a46,#23232a);border:2px solid var(--gold2)}
    .name{font-weight:700}
    .section-title{margin:14px 6px 8px;color:var(--muted);font-size:.9rem;letter-spacing:.06em}
    .list{display:flex;flex-direction:column;gap:8px}
    .item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border:1px dashed rgba(212,175,55,0.28);border-radius:10px;background:rgba(255,255,255,.02)}

    .stage{grid-area:center;position:relative;overflow:hidden;border-radius:14px;border:1px solid rgba(255,255,255,.06);background:radial-gradient(600px 300px at 50% 0%, rgba(212,175,55,.18), rgba(20,20,26,.0) 60%), linear-gradient(180deg, var(--panel), var(--panel2))}
    .speech{position:absolute;left:24px;bottom:24px;padding:12px 14px;border-radius:10px;color:#111;background:linear-gradient(180deg,#fff,#e9e2d4);border:1px solid #cfc3a2;box-shadow:0 8px 14px rgba(0,0,0,.25);font-weight:600;max-width:52ch}
    .rep{position:absolute;right:6%;bottom:0;width:min(520px,48%);filter:drop-shadow(0 40px 60px rgba(0,0,0,.55));transition:transform .12s ease-out}

    .right{grid-area:right;display:grid;grid-template-columns:1fr;gap:12px}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--card);border-radius:14px;padding:14px;cursor:pointer;transition:.25s ease}
    .card:hover{transform:translateY(-2px);box-shadow:0 14px 26px rgba(0,0,0,.35)}
    .tag{display:inline-block;font-size:.75rem;padding:4px 8px;border:1px solid var(--card);border-radius:999px;color:var(--muted)}

    .bottomnav{grid-area:bottom;display:flex;gap:16px;align-items:center;justify-content:center;padding:12px;background:linear-gradient(180deg, rgba(26,26,32,.8), rgba(26,26,32,.3));border:1px solid rgba(255,255,255,.06);border-radius:14px;backdrop-filter:blur(6px)}
    .navbtn{display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px 12px;min-width:90px;border:1px solid rgba(255,255,255,.06);border-radius:12px;background:rgba(255,255,255,.02);cursor:pointer}
    .navbtn i{font-size:20px;color:var(--gold)}

    @media(max-width:1100px){.app{grid-template-columns:1fr;grid-template-rows:64px auto auto 88px;grid-template-areas:"top" "center" "right" "bottom";overflow:auto}body{overflow:auto}.sidebar{display:none}.stage{min-height:520px}.rep{width:min(420px,70%);right:2%}}
  </style>
</head>
<body>
  <div class="app" id="app">
    <div class="stars"></div>

    <div class="topbar">
      <div class="chip"><strong>100G</strong></div>
      <div class="chip"><i class="fa-regular fa-compass"></i> <span id="points">탐색포인트 12/12</span></div>
      <div class="sep"></div>
      <!-- ✨ 새로 추가된 도감 버튼 -->
      <a href="compendium.html" class="chip link" title="스킬·특성 도감"><i class="fa-regular fa-bookmark"></i> 도감</a>
      <div class="sep"></div>
      <a href="member.html" class="chip link" title="멤버 관리"><i class="fa-regular fa-user"></i> MEMBER</a>
      <a href="character.html" class="chip link" title="프로필"><i class="fa-regular fa-id-card"></i> PROFILE</a>
    </div>

    <aside class="sidebar">
      <div class="profile"><div class="avatar"></div><div><div class="name">캐릭터 이름</div><div style="font-size:.9rem;color:var(--muted)">전직: 모험가</div></div></div>
      <div class="section-title">공지사항</div>
      <div class="list"><div class="item"><span>캐릭터 설정 안내</span><small style="color:var(--muted)">08:21</small></div><div class="item"><span>사이트 업데이트 로그</span><small style="color:var(--muted)">어제</small></div></div>
    </aside>

    <main class="stage" id="stage">
      <img id="repImg" class="rep" alt="대표 캐릭터">
      <div class="speech" id="speech">반가워요! 오늘도 정말 좋은 아침이죠?</div>
    </main>

    <section class="right">
      <article class="card" onclick="location.href='member.html'">
        <span class="tag">MEMBER</span>
        <h3>멤버 관리</h3>
        <p style="margin:0;color:var(--muted)">프로필/이미지/스킬 편집</p>
      </article>
      <article class="card" onclick="location.href='character.html'">
        <span class="tag">PROFILE</span>
        <h3>캐릭터 프로필</h3>
        <p style="margin:0;color:var(--muted)">대표 캐릭터 상세 보기</p>
      </article>
      <!-- ✨ 새로 추가된 도감 카드 -->
      <article class="card" onclick="location.href='compendium.html'">
        <span class="tag">COMPENDIUM</span>
        <h3>도감</h3>
        <p style="margin:0;color:var(--muted)">스킬·특성 일괄 관리</p>
      </article>
    </section>

    <nav class="bottomnav">
      <button class="navbtn" onclick="location.href='member.html'"><i class="fa-regular fa-user"></i><span>MEMBER</span></button>
      <button class="navbtn" onclick="location.href='character.html'"><i class="fa-regular fa-id-card"></i><span>PROFILE</span></button>
      <button class="navbtn" onclick="location.href='compendium.html'"><i class="fa-regular fa-bookmark"></i><span>도감</span></button>
    </nav>
  </div>

  <script>
    // 대표 캐릭터 이미지 렌더 + 간단 효과
    const STORE='members.v1'; const REP='representativeId';
    const repImg=document.getElementById('repImg'); const stage=document.getElementById('stage');

    function loadMembers(){
      const a=localStorage.getItem(STORE); const b=localStorage.getItem('memberData.v1');
      try{ return a?JSON.parse(a):(b?JSON.parse(b):[]) }catch{ return [] }
    }
    function chooseRep(){ const list=loadMembers(); const id=localStorage.getItem(REP); return list.find(x=>x.id===id)||list[0]||null }

    function render(){
      const rep=chooseRep();
      if(rep && rep.img){ repImg.src=rep.img; repImg.style.display='block'; }
      else { repImg.style.display='none'; }
    }

    stage.addEventListener('mousemove', e=>{
      const r=stage.getBoundingClientRect(); const x=(e.clientX-r.left)/r.width, y=(e.clientY-r.top)/r.height;
      repImg.style.transform=`translate(${(x-.5)*18}px, ${(y-.5)*10}px)`;
    });
    stage.addEventListener('mouseleave', ()=> repImg.style.transform='translate(0,0)');

    render();
  </script>
</body>
</html>

